---

title: Interpretation of Predictions


keywords: fastai
sidebar: home_sidebar

summary: "Classes to build objects to better interpret predictions of a model"
description: "Classes to build objects to better interpret predictions of a model"
nb_path: "nbs/20_interpret.ipynb"
---
<!--

#################################################
### THIS FILE WAS AUTOGENERATED! DO NOT EDIT! ###
#################################################
# file to edit: nbs/20_interpret.ipynb
# command to build the docs after a change: nbdev_build_docs

-->

<div class="container" id="notebook-container">
        
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h3 id="Interpretation" class="doc_header"><code>class</code> <code>Interpretation</code><a href="https://github.com/fastai/fastai/tree/master/fastai/interpret.py#L21" class="source_link" style="float:right">[source]</a></h3><blockquote><p><code>Interpretation</code>(<strong><code>learn</code></strong>, <strong><code>dl</code></strong>, <strong><code>losses</code></strong>, <strong><code>act</code></strong>=<em><code>None</code></em>)</p>
</blockquote>
<p>Interpretation base class, can be inherited for task specific Interpretation classes</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p><a href="/interpret.html#Interpretation"><code>Interpretation</code></a> is a helper base class for exploring predictions from trained models. It can be inherited for task specific interpretation classes, such as <a href="/interpret.html#ClassificationInterpretation"><code>ClassificationInterpretation</code></a>. <a href="/interpret.html#Interpretation"><code>Interpretation</code></a> is memory efficient and should be able to process any sized dataset, provided the hardware could train the same model.
{% include note.html content='<a href="/interpret.html#Interpretation"><code>Interpretation</code></a> is memory efficient due to generating inputs, predictions, targets, decoded outputs, and losses for each item on the fly, using batch processing where possible.' %}</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h3 id="Interpretation.from_learner" class="doc_header"><code>Interpretation.from_learner</code><a href="https://github.com/fastai/fastai/tree/master/fastai/interpret.py#L36" class="source_link" style="float:right">[source]</a></h3><blockquote><p><code>Interpretation.from_learner</code>(<strong><code>learn</code></strong>, <strong><code>ds_idx</code></strong>=<em><code>1</code></em>, <strong><code>dl</code></strong>=<em><code>None</code></em>, <strong><code>act</code></strong>=<em><code>None</code></em>)</p>
</blockquote>
<p>Construct interpretation object from a learner</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h3 id="Interpretation.top_losses" class="doc_header"><code>Interpretation.top_losses</code><a href="https://github.com/fastai/fastai/tree/master/fastai/interpret.py#L44" class="source_link" style="float:right">[source]</a></h3><blockquote><p><code>Interpretation.top_losses</code>(<strong><code>k</code></strong>=<em><code>None</code></em>, <strong><code>largest</code></strong>=<em><code>True</code></em>, <strong><code>items</code></strong>=<em><code>False</code></em>)</p>
</blockquote>
<p><code>k</code> largest(/smallest) losses and indexes, defaulting to all losses (sorted by <code>largest</code>). Optionally include items.</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>With the default of <code>k=None</code>, <code>top_losses</code> will return the entire dataset's losses. <code>top_losses</code> can optionally include the input items for each loss, which is usually a file path or Pandas <code>DataFrame</code>.</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h3 id="Interpretation.plot_top_losses" class="doc_header"><code>Interpretation.plot_top_losses</code><a href="https://github.com/fastai/fastai/tree/master/fastai/interpret.py#L50" class="source_link" style="float:right">[source]</a></h3><blockquote><p><code>Interpretation.plot_top_losses</code>(<strong><code>k</code></strong>, <strong><code>largest</code></strong>=<em><code>True</code></em>, <strong>**<code>kwargs</code></strong>)</p>
</blockquote>
<p>Show <code>k</code> largest(/smallest) preds and losses. <code>k</code> may be int, list, or <code>range</code> of desired results.</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>To plot the first 9 top losses:</p>
<div class="highlight"><pre><span></span><span class="n">interp</span> <span class="o">=</span> <span class="n">Interpretation</span><span class="o">.</span><span class="n">from_learner</span><span class="p">(</span><span class="n">learn</span><span class="p">)</span>
<span class="n">interp</span><span class="o">.</span><span class="n">plot_top_losses</span><span class="p">(</span><span class="mi">9</span><span class="p">)</span>
</pre></div>
<p>Then to plot the 7th through 16th top losses:</p>
<div class="highlight"><pre><span></span><span class="n">interp</span><span class="o">.</span><span class="n">plot_top_losses</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">7</span><span class="p">,</span><span class="mi">16</span><span class="p">))</span>
</pre></div>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h3 id="Interpretation.show_results" class="doc_header"><code>Interpretation.show_results</code><a href="https://github.com/fastai/fastai/tree/master/fastai/interpret.py#L66" class="source_link" style="float:right">[source]</a></h3><blockquote><p><code>Interpretation.show_results</code>(<strong><code>idxs</code></strong>, <strong>**<code>kwargs</code></strong>)</p>
</blockquote>
<p>Show predictions and targets of <code>idxs</code></p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Like <a href="/learner.html#Learner.show_results"><code>Learner.show_results</code></a>, except can pass desired index or indicies for item(s) to show results from.</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h2 id="ClassificationInterpretation" class="doc_header"><code>class</code> <code>ClassificationInterpretation</code><a href="https://github.com/fastai/fastai/tree/master/fastai/interpret.py#L75" class="source_link" style="float:right">[source]</a></h2><blockquote><p><code>ClassificationInterpretation</code>(<strong><code>learn</code></strong>, <strong><code>dl</code></strong>, <strong><code>losses</code></strong>, <strong><code>act</code></strong>=<em><code>None</code></em>) :: <a href="/interpret.html#Interpretation"><code>Interpretation</code></a></p>
</blockquote>
<p>Interpretation methods for classification models.</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h2 id="SegmentationInterpretation" class="doc_header"><code>class</code> <code>SegmentationInterpretation</code><a href="https://github.com/fastai/fastai/tree/master/fastai/interpret.py#L135" class="source_link" style="float:right">[source]</a></h2><blockquote><p><code>SegmentationInterpretation</code>(<strong><code>learn</code></strong>, <strong><code>dl</code></strong>, <strong><code>losses</code></strong>, <strong><code>act</code></strong>=<em><code>None</code></em>) :: <a href="/interpret.html#Interpretation"><code>Interpretation</code></a></p>
</blockquote>
<p>Interpretation methods for segmentation models.</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

</div>
 

